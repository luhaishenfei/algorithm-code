<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="doit">do</div>
<form>
    <input id="file" type="file">
</form>


<!--

<form enctype=\
"multipart/form-data\" id=\"fileUpload\">\n" +
"                        <input type=\"file\" name=\"file\"/>\n" +
"                    </form>
style="display: none "
-->
<form  enctype="multipart/form-data" id="fileUpload">
    <input  type="file" name="file">
    <input id="path" style="display: none " type="text" name="path">
</form>

<div class="preview">111</div>
<div class="preview">222</div>

<script>



    $(".picturePoint").before(" <input id=\"imgUpload\" name=\"myFiles\" type=\"file\" accept=\".jpg, .jpeg, .png, .gif\" multiple\n" +
        "           onChange=\"uploadImg(event)\"/>\n" +
        "    <div className=\"img-box\"></div>");








    // var fileUrl=document.getElementById("path");
    // fileUrl.value=111222
    // console.log(fileUrl.value)

    var dlist=document.getElementsByClassName('preview');
    console.log(dlist);
    for (let dlistElement of dlist) {
        dlistElement.style.display='none';
    }
    document.getElementById('');
</script>

<script>

var reader = new FileReader();
file=document.getElementById('file')
reader.readAsDataURL(file);
reader.onload = function(){
console.log('图片', reader.result); //获取到base64格式图片
}
/*

 */
</script>

<script>

    //jq create html element. version 1
    $(".doit").before("  <form enctype=\"multipart/form-data\" id=\"fileUpload\">\n" +
        "                        <input type=\"file\" name=\"file\"/>\n" +
        "                        <input type=\"button\" id=\"btnSubmit\" value=\" 上 传 \"/>\n" +
        "                    </form>");

    $("#btnSubmit").click(function () {
        $("#fileUpload").ajaxSubmit({
            success: function (data) {
                // 上传完成，刷新table
                if (1 === data.code) {
                    alert(data.msg);
                } else {
                    $('#table').bootstrapTable('refresh', {});
                }
                $(".loading_container").hide();
            },
            error: function () {
                alert('上传失败，请联系管理员');
                $(".loading_container").hide();
            },
            url: 'http://localhost:8012/fileUpload', /*设置post提交到的页面*/
            type: "post", /*设置表单以post方法提交*/
            dataType: "json" /*设置返回值类型为文本*/
        });
    });


    //v2  delete button
    $(".doit").before("  <form enctype=\"multipart/form-data\" id=\"fileUpload\">\n" +
        "                        <input type=\"file\" name=\"file\"/>\n" +
        "                    </form>");
</script>

</body>
</html>